:root {
    --themes-css-loaded: 1;
}

/* Hidden fallback theme (shows only when default themes are disabled). */
body.table-diner {
    --table-bg:
        radial-gradient(circle at 14% 18%, rgba(255, 235, 210, 0.12) 0%, transparent 40%),
        radial-gradient(circle at 78% 20%, rgba(160, 105, 60, 0.28) 0%, transparent 48%),
        radial-gradient(circle at 35% 68%, rgba(110, 70, 35, 0.25) 0%, transparent 52%),
        radial-gradient(circle at 70% 76%, rgba(70, 45, 25, 0.35) 0%, transparent 58%),
        radial-gradient(circle at 50% 52%, rgba(30, 18, 10, 0.45) 0%, transparent 65%),
        linear-gradient(165deg, rgba(255, 245, 235, 0.05) 0%, transparent 55%),
        linear-gradient(135deg, #3d2a1d 0%, #4f3624 45%, #2a1d13 100%);
    --table-border: #5b4130;
    --table-shadow: inset 0 0 80px rgba(0, 0, 0, 0.7), inset 0 0 25px rgba(160, 110, 60, 0.25), 0 0 20px rgba(0, 0, 0, 0.4);
}

body.deck-worn {
    --card-back-color: #6b3a3a;
    --card-back-pattern-color: #c28f7a;
    --card-back-accent: #e6c8a2;
    --card-edge-color: #9b7b66;
    --worn-back-base: #6b3a3a;
    --worn-back-ink: #c28f7a;
    --worn-back-highlight: #e6c8a2;
    --worn-back-shadow: rgba(60, 35, 30, 0.38);
    --worn-back-bg:
        repeating-conic-gradient(from 10deg at 50% 50%, rgba(235, 215, 185, 0.18) 0 12deg, transparent 12deg 24deg),
        repeating-linear-gradient(45deg, rgba(120, 70, 60, 0.16) 0 8px, transparent 8px 16px),
        repeating-linear-gradient(-45deg, rgba(235, 215, 185, 0.12) 0 8px, transparent 8px 16px),
        radial-gradient(circle at 50% 50%, rgba(235, 215, 185, 0.2) 0%, transparent 52%),
        linear-gradient(135deg, var(--worn-back-base) 0%, #7a4944 45%, #4b2f2b 100%);
    --worn-back-bg-size: 84px 84px, 26px 26px, 26px 26px, auto, auto;
    --worn-back-bg-position: center, 6px 4px, -6px -4px, center, center;
    --card-back-bg: var(--worn-back-bg);
    --card-back-bg-size: var(--worn-back-bg-size);
}

body.deck-worn .card.hidden {
    background:
        linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, transparent 35%),
        radial-gradient(circle at 22% 32%, rgba(0, 0, 0, 0.25) 0%, transparent 42%),
        radial-gradient(circle at 80% 68%, rgba(0, 0, 0, 0.2) 0%, transparent 48%),
        radial-gradient(circle at 55% 50%, rgba(255, 255, 255, 0.08) 0%, transparent 38%),
        var(--card-back-bg);
    background-size: auto, auto, auto, auto, var(--card-back-bg-size);
    background-position: 0 0, 0 0, 0 0, 0 0, var(--worn-back-bg-position, center);
    background-repeat: no-repeat, repeat, repeat, no-repeat, no-repeat;
    border: 2px solid var(--card-back-accent);
    box-shadow: inset 0 0 18px rgba(90, 70, 45, 0.35), 0 0 6px rgba(0, 0, 0, 0.35);
}

body.deck-worn .card.hidden::before {
    content: "";
    position: absolute;
    inset: 0;
    background:
        radial-gradient(circle at var(--wear-scuff-x, 28%) var(--wear-scuff-y, 30%), rgba(255, 255, 255, 0.08) 0%, transparent 48%),
        radial-gradient(circle at var(--wear-scuff2-x, 72%) var(--wear-scuff2-y, 68%), rgba(40, 30, 20, 0.22) 0%, transparent 55%),
        radial-gradient(circle at var(--wear-nick-x, 42%) var(--wear-nick-y, 40%), rgba(235, 215, 185, 0.2) 0%, transparent 36%),
        linear-gradient(var(--wear-scratch-angle, 25deg),
            rgba(40, 30, 20, 0.2) 0,
            rgba(40, 30, 20, 0.2) 1px,
            transparent 2px),
        linear-gradient(var(--wear-scratch-angle-2, -25deg),
            rgba(255, 255, 255, 0.08) 0,
            rgba(255, 255, 255, 0.08) 1px,
            transparent 2px);
    pointer-events: none;
    mix-blend-mode: multiply;
}

body.deck-worn .card:not(.hidden) {
    background:
        radial-gradient(circle at var(--wear-scuff-x, 18%) var(--wear-scuff-y, 20%), rgba(255, 255, 255, 0.16) 0%, transparent 45%),
        radial-gradient(circle at var(--wear-scuff2-x, 75%) var(--wear-scuff2-y, 78%), rgba(120, 90, 60, 0.22) 0%, transparent 50%),
        linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, transparent 45%),
        linear-gradient(135deg, #f3e6cd 0%, #e7d3b3 55%, #d7bea0 100%);
    border: 1px solid #b89f7a;
    color: #3a2a1d;
    box-shadow: inset 0 0 12px rgba(90, 70, 45, 0.28), 2px 2px 5px rgba(0, 0, 0, 0.4);
}

body.deck-worn .card.red {
    color: rgba(140, 70, 60, 0.85);
}

body.deck-worn .card.black {
    color: rgba(60, 50, 40, 0.85);
}

body.deck-worn .card:not(.hidden)::after {
    content: "";
    position: absolute;
    inset: 6px;
    border: 1px dashed rgba(90, 70, 45, 0.25);
    background:
        linear-gradient(var(--wear-fold-angle, 35deg),
            rgba(255, 255, 255, var(--wear-fold-alpha, 0)) 0%,
            rgba(255, 255, 255, 0) 18%);
    background-position: var(--wear-fold-x, 12%) var(--wear-fold-y, 12%);
    background-repeat: no-repeat;
    pointer-events: none;
    mix-blend-mode: screen;
}

body.deck-worn .card:not(.hidden)::before {
    content: "";
    position: absolute;
    inset: 0;
    background:
        radial-gradient(circle at var(--wear-stain-x, 60%) var(--wear-stain-y, 40%), rgba(90, 60, 40, var(--wear-stain-alpha, 0)) 0%, transparent var(--wear-stain-size, 24%)),
        radial-gradient(circle at var(--wear-nick-x, 46%) var(--wear-nick-y, 52%), rgba(90, 70, 50, var(--wear-nick-alpha, 0.28)) 0%, transparent 40%),
        radial-gradient(circle at var(--wear-chip-x, 10%) var(--wear-chip-y, 12%), rgba(255, 255, 255, var(--wear-chip-alpha, 0)) 0%, transparent 46%),
        radial-gradient(circle at var(--wear-chip-x, 10%) var(--wear-chip-y, 12%), rgba(60, 40, 30, 0.45) 0%, transparent 14%),
        linear-gradient(var(--wear-tear-angle, 10deg),
            rgba(40, 25, 18, 0.55) 0%,
            rgba(40, 25, 18, 0.55) 2%,
            rgba(255, 255, 255, 0.65) 3%,
            rgba(255, 255, 255, 0) var(--wear-tear-size, 32%)),
        linear-gradient(var(--wear-tear-angle, 10deg),
            rgba(255, 255, 255, 0.55) 0%,
            rgba(255, 255, 255, 0) 10%),
        linear-gradient(var(--wear-scratch-angle, 25deg),
            rgba(70, 50, 30, var(--wear-scratch-alpha, 0.12)) 0,
            rgba(70, 50, 30, var(--wear-scratch-alpha, 0.12)) 1px,
            transparent 2px),
        linear-gradient(var(--wear-scratch-angle-2, -30deg),
            rgba(255, 255, 255, 0.08) 0,
            rgba(255, 255, 255, 0.08) 1px,
            transparent 2px),
        radial-gradient(circle at 18% 22%, rgba(80, 60, 40, 0.22) 0%, transparent 42%),
        radial-gradient(circle at 65% 30%, rgba(120, 90, 60, 0.18) 0%, transparent 40%),
        radial-gradient(circle at 78% 80%, rgba(60, 45, 30, 0.24) 0%, transparent 48%),
        linear-gradient(115deg, rgba(255, 255, 255, 0.08) 0%, transparent 45%),
        linear-gradient(200deg, rgba(60, 45, 30, 0.12) 0%, transparent 55%);
    pointer-events: none;
    mix-blend-mode: multiply;
}
